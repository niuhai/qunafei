# èˆªç­ä»·æ ¼å‘¨è¾¹æœºåœºç­›é€‰ç¨‹åº - éœ€æ±‚æ–‡æ¡£

## ä¸€ã€é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®èƒŒæ™¯
ç”¨æˆ·åœ¨è´­ä¹°æœºç¥¨æ—¶ï¼Œæ‰€åœ¨åŸå¸‚çš„æœºåœºèˆªç­ä»·æ ¼å¯èƒ½ä¸ç†æƒ³ã€‚æœ¬ç¨‹åºæ—¨åœ¨å¸®åŠ©ç”¨æˆ·è‡ªåŠ¨ç­›é€‰å‡ºå‘åœ°å‘¨è¾¹æœºåœºçš„èˆªç­ï¼Œé€šè¿‡ç»¼åˆæ¯”è¾ƒæœºç¥¨ä»·æ ¼å’Œåœ°é¢äº¤é€šæˆæœ¬ï¼Œæ‰¾åˆ°æœ€ä¼˜çš„å‡ºè¡Œæ–¹æ¡ˆã€‚

### 1.2 ç›®æ ‡ç”¨æˆ·
- ç»å¸¸å‡ºå·®çš„å•†åŠ¡äººå£«
- ä»·æ ¼æ•æ„Ÿçš„æ—…è¡Œè€…
- éœ€è¦çµæ´»é€‰æ‹©å‡ºå‘æœºåœºçš„ç”¨æˆ·

### 1.3 å…¸å‹åœºæ™¯
> ç”¨æˆ·åœ¨çƒŸå°ï¼Œæƒ³é£å¾€ä¸Šæµ·ã€‚çƒŸå°è“¬è±æœºåœºæœºç¥¨ä»·æ ¼800å…ƒï¼Œä½†é’å²›èƒ¶ä¸œæœºåœºåªéœ€500å…ƒã€‚æ‰£é™¤çƒŸå°åˆ°é’å²›çš„é«˜é“è´¹ç”¨ï¼ˆçº¦150å…ƒï¼‰ï¼Œä»å¯èŠ‚çœ150å…ƒã€‚

---

## äºŒã€åŠŸèƒ½éœ€æ±‚

### 2.1 æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

#### æ¨¡å—ä¸€ï¼šå‡ºå‘åœ°é…ç½®
| åŠŸèƒ½ç‚¹ | æè¿° | ä¼˜å…ˆçº§ | å®ç°çŠ¶æ€ |
|--------|------|--------|----------|
| åŸå¸‚è¾“å…¥ | æ”¯æŒè¾“å…¥åŸå¸‚åç§°ï¼ˆå¦‚"çƒŸå°"ï¼‰ï¼Œæ”¯æŒå¤šé€‰ | P0 | âœ… å·²å®ç° |
| åŸå¸‚é€‰æ‹© | ä¸‹æ‹‰é€‰æ‹©åŸå¸‚åˆ—è¡¨ï¼Œæ”¯æŒè”æƒ³æœç´¢ | P1 | âœ… å·²å®ç° |
| å¤šåŸå¸‚æ”¯æŒ | åŒæ—¶é€‰æ‹©å¤šä¸ªå‡ºå‘åŸå¸‚è¿›è¡Œå¯¹æ¯” | P0 | âœ… å·²å®ç° |
| å†å²è®°å½• | è®°ä½ç”¨æˆ·å¸¸ç”¨å‡ºå‘åœ°å’Œæœç´¢å†å² | P1 | âœ… å·²å®ç° |

#### æ¨¡å—äºŒï¼šå‘¨è¾¹æœºåœºè¯†åˆ«
| åŠŸèƒ½ç‚¹ | æè¿° | ä¼˜å…ˆçº§ | å®ç°çŠ¶æ€ |
|--------|------|--------|----------|
| è·ç¦»ç­›é€‰ | è®¾ç½®æœç´¢åŠå¾„ï¼ˆå¦‚200kmã€300kmï¼‰ | P0 | âœ… å·²å®ç° |
| æœºåœºåˆ—è¡¨ | å±•ç¤ºå‘¨è¾¹æœºåœºåŠè·ç¦»ä¿¡æ¯ï¼Œæ”¯æŒè¾“å…¥ç­›é€‰ | P0 | âœ… å·²å®ç° |
| äº¤é€šæ–¹å¼ | æ˜¾ç¤ºåˆ°å„æœºåœºçš„äº¤é€šæ–¹å¼ï¼ˆè‡ªé©¾/é«˜é“/å¤§å·´ï¼‰ | P1 | âœ… å·²å®ç° |
| æ—¶é—´ä¼°ç®— | é¢„ä¼°åˆ°è¾¾å„æœºåœºæ‰€éœ€æ—¶é—´ | P1 | âœ… å·²å®ç° |

#### æ¨¡å—ä¸‰ï¼šèˆªç­æŸ¥è¯¢
| åŠŸèƒ½ç‚¹ | æè¿° | ä¼˜å…ˆçº§ | å®ç°çŠ¶æ€ |
|--------|------|--------|----------|
| ç›®çš„åœ°è¾“å…¥ | æ”¯æŒåŸå¸‚/æœºåœºåç§°è¾“å…¥ï¼Œæ”¯æŒè”æƒ³æœç´¢ | P0 | âœ… å·²å®ç° |
| æ—¥æœŸé€‰æ‹© | é€‰æ‹©å‡ºå‘æ—¥æœŸï¼Œé»˜è®¤æ˜å¤© | P0 | âœ… å·²å®ç° |
| å¤šæœºåœºæŸ¥è¯¢ | åŒæ—¶æŸ¥è¯¢å¤šä¸ªå‡ºå‘æœºåœºçš„èˆªç­ | P0 | âœ… å·²å®ç° |
| èˆªç­ä¿¡æ¯ | å±•ç¤ºèˆªç­å·ã€æ—¶é—´ã€èˆªç©ºå…¬å¸ã€ä»·æ ¼ | P0 | âœ… å·²å®ç° |

#### æ¨¡å—å››ï¼šä»·æ ¼æ¯”è¾ƒä¸ç­›é€‰
| åŠŸèƒ½ç‚¹ | æè¿° | ä¼˜å…ˆçº§ | å®ç°çŠ¶æ€ |
|--------|------|--------|----------|
| ä»·æ ¼æ’åº | æŒ‰æœºç¥¨ä»·æ ¼å‡åº/é™åºæ’åˆ— | P0 | âœ… å·²å®ç° |
| ç»¼åˆæˆæœ¬ | æœºç¥¨ä»·æ ¼ + åœ°é¢äº¤é€šè´¹ç”¨ + æ—¶é—´æˆæœ¬ | P0 | âœ… å·²å®ç° |
| æ—¶é—´ç­›é€‰ | æŒ‰å‡ºå‘/åˆ°è¾¾æ—¶é—´æ®µç­›é€‰ | P1 | âš ï¸ åç«¯å·²å®ç°ï¼Œå‰ç«¯å¾…æš´éœ² |
| ç›´é£/ä¸­è½¬ | ç­›é€‰ç›´é£æˆ–ä¸­è½¬èˆªç­ | P1 | âš ï¸ åç«¯å·²å®ç°ï¼Œå‰ç«¯å¾…æš´éœ² |

#### æ¨¡å—äº”ï¼šç»¼åˆæ¨è
| åŠŸèƒ½ç‚¹ | æè¿° | ä¼˜å…ˆçº§ | å®ç°çŠ¶æ€ |
|--------|------|--------|----------|
| æœ€ä¼˜æ¨è | ç»¼åˆä»·æ ¼ã€æ—¶é—´ç»™å‡ºæœ€ä¼˜æ–¹æ¡ˆ | P0 | âœ… å·²å®ç° |
| æ–¹æ¡ˆå¯¹æ¯” | å¤šä¸ªæ–¹æ¡ˆå¹¶åˆ—å¯¹æ¯”å±•ç¤º | P1 | âœ… å·²å®ç° |
| æˆæœ¬æ˜ç»† | å±•ç¤ºæœºç¥¨è´¹ç”¨ã€äº¤é€šè´¹ç”¨ã€æ—¶é—´æˆæœ¬æ˜ç»† | P1 | âœ… å·²å®ç° |
| èŠ‚çœè®¡ç®— | ä¸æœ¬åœ°æœºåœºæ–¹æ¡ˆå¯¹æ¯”ï¼Œæ˜¾ç¤ºèŠ‚çœé‡‘é¢ | P1 | âœ… å·²å®ç° |

#### æ¨¡å—å…­ï¼šå¤šæ®µè¡Œç¨‹ä¼˜åŒ–ï¼ˆæ–°å¢ï¼‰
| åŠŸèƒ½ç‚¹ | æè¿° | ä¼˜å…ˆçº§ | å®ç°çŠ¶æ€ |
|--------|------|--------|----------|
| ç›´é£æœç´¢ | æœç´¢å‡ºå‘åœ°å‘¨è¾¹æœºåœºåˆ°ç›®çš„åœ°å‘¨è¾¹æœºåœºçš„ç›´é£èˆªç­ | P0 | âœ… å·²å®ç° |
| ä¸€æ®µä¸­è½¬æœç´¢ | æœç´¢ç»ç¬¬ä¸‰åœ°ä¸­è½¬çš„èˆªç­ç»„åˆ | P0 | âœ… å·²å®ç° |
| è·¯å¾„ä¼˜åŒ–ç®—æ³• | ç»¼åˆæ¯”è¾ƒç›´é£å’Œä¸­è½¬æ–¹æ¡ˆï¼Œæ‰¾å‡ºæœ€ä¼˜è§£ | P0 | âœ… å·²å®ç° |
| ä¸­è½¬æ—¶é—´è®¡ç®— | è®¡ç®—ä¸­è½¬ç­‰å¾…æ—¶é—´ï¼Œè¿‡æ»¤ä¸åˆç†æ–¹æ¡ˆ | P1 | âœ… å·²å®ç° |
| æˆæœ¬å¯¹æ¯” | ç›´é£ vs ä¸­è½¬æ–¹æ¡ˆçš„æˆæœ¬å¯¹æ¯” | P1 | âœ… å·²å®ç° |

**å…¸å‹åœºæ™¯**ï¼š
> ç”¨æˆ·ä»çƒŸå°å»æµå—ã€‚ç›´é£ç¥¨ä»·600å…ƒï¼Œä½†å…ˆåé«˜é“å»é’å²›ï¼ˆ150å…ƒï¼‰ï¼Œå†ä»é’å²›é£æµå—ï¼ˆ300å…ƒï¼‰ï¼Œæ€»è®¡450å…ƒï¼Œæ¯”ç›´é£èŠ‚çœ150å…ƒã€‚

### 2.2 æ‰©å±•åŠŸèƒ½ï¼ˆPhase 2ï¼‰
| åŠŸèƒ½ | æè¿° | ä¼˜å…ˆçº§ | å®ç°çŠ¶æ€ |
|------|------|--------|----------|
| æ—¥æœŸçµæ´»æœç´¢ | æŸ¥è¯¢å‰åNå¤©çš„ä»·æ ¼å¯¹æ¯” | P1 | ğŸ“‹ å¾…å¼€å‘ |
| ä»·æ ¼æ—¥å† | æ—¥å†è§†å›¾å±•ç¤ºæ¯æ—¥æœ€ä½ä»· | P2 | ğŸ“‹ å¾…å¼€å‘ |

---

## ä¸‰ã€æŠ€æœ¯æ–¹æ¡ˆ

### 3.1 æŠ€æœ¯æ ˆé€‰å‹

| å±‚çº§ | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
|------|----------|------|
| å‰ç«¯ | åŸç”ŸHTML/CSS/JS | è½»é‡çº§ï¼Œæ— éœ€æ„å»ºå·¥å…· |
| åç«¯ | Node.js + Express | è½»é‡çº§APIæœåŠ¡ |
| æ•°æ®å­˜å‚¨ | JSONæ–‡ä»¶ | é›¶ä¾èµ–ï¼Œå¼€ç®±å³ç”¨ |
| åœ°å›¾æœåŠ¡ | é«˜å¾·åœ°å›¾API | å…è´¹é¢åº¦å……è¶³ |
| èˆªç­æ•°æ® | çˆ¬è™«ï¼ˆæºç¨‹ï¼‰ | æˆæœ¬æœ€ä½ |

### 3.2 ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å•ä½“åº”ç”¨æ¶æ„                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Node.js + Express                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚ é™æ€æ–‡ä»¶ â”‚ â”‚ èˆªç­API â”‚ â”‚ æœºåœºAPI â”‚ â”‚ è®¡ç®—API â”‚    â”‚  â”‚
â”‚  â”‚  â”‚ æœåŠ¡    â”‚ â”‚ /flight â”‚ â”‚ /airportâ”‚ â”‚/calculateâ”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                       â”‚                              â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚  â”‚
â”‚  â”‚  â”‚              JSON æ–‡ä»¶æ•°æ®å­˜å‚¨                   â”‚â”‚  â”‚
â”‚  â”‚  â”‚  airports.json | cache.json | config.json       â”‚â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       å¤–éƒ¨æœåŠ¡                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚ æºç¨‹æœºç¥¨    â”‚  â”‚ é«˜å¾·åœ°å›¾API â”‚                          â”‚
â”‚  â”‚ (çˆ¬è™«)      â”‚  â”‚ (å…è´¹é¢åº¦)  â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 é¡¹ç›®ç›®å½•ç»“æ„

```
qunafei/
â”œâ”€â”€ package.json
â”œâ”€â”€ server.js                 # å…¥å£æ–‡ä»¶
â”œâ”€â”€ config/
â”‚   â””â”€â”€ index.js              # é…ç½®æ–‡ä»¶ï¼ˆç«¯å£ã€APIå¯†é’¥ç­‰ï¼‰
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ airports.json         # æœºåœºé™æ€æ•°æ®
â”‚   â”œâ”€â”€ cache.json            # èˆªç­ç¼“å­˜æ•°æ®
â”‚   â””â”€â”€ config.json           # ç”¨æˆ·é…ç½®
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ flight.js             # èˆªç­æŸ¥è¯¢è·¯ç”±
â”‚   â”œâ”€â”€ airport.js            # æœºåœºæŸ¥è¯¢è·¯ç”±
â”‚   â””â”€â”€ calculate.js          # æˆæœ¬è®¡ç®—è·¯ç”±
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ crawler.js            # æºç¨‹çˆ¬è™«æœåŠ¡
â”‚   â”œâ”€â”€ distance.js           # è·ç¦»è®¡ç®—æœåŠ¡
â”‚   â””â”€â”€ recommend.js          # æ¨èç®—æ³•æœåŠ¡
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html            # å‰ç«¯é¡µé¢
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css
â”‚   â””â”€â”€ js/
â”‚       â””â”€â”€ app.js
â””â”€â”€ utils/
    â”œâ”€â”€ helpers.js            # å·¥å…·å‡½æ•°
    â””â”€â”€ geo.js                # åœ°ç†è®¡ç®—å·¥å…·
```

### 3.4 æ ¸å¿ƒä¾èµ–

```json
{
  "name": "qunafei",
  "version": "1.0.0",
  "dependencies": {
    "express": "^4.18.2",
    "axios": "^1.6.0",
    "cheerio": "^1.0.0-rc.12"
  },
  "scripts": {
    "start": "node server.js",
    "dev": "node --watch server.js"
  }
}
```

**ä¾èµ–è¯´æ˜**ï¼š
| åŒ…å | ç”¨é€” | å¤§å° |
|------|------|------|
| express | Webæ¡†æ¶ | ~200KB |
| axios | HTTPè¯·æ±‚ | ~300KB |
| cheerio | HTMLè§£æï¼ˆçˆ¬è™«ï¼‰ | ~400KB |

**æ€»è®¡çº¦ 1MB**ï¼Œæå…¶è½»é‡ï¼

---

## å››ã€APIæ¥å£è®¾è®¡

### 4.1 ç³»ç»Ÿæ¥å£

#### GET /api/health
å¥åº·æ£€æŸ¥æ¥å£

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 0,
  "message": "ok",
  "timestamp": "2026-02-13T10:30:00Z",
  "config": {
    "amapEnabled": true,
    "port": 3000
  }
}
```

#### GET /api/config
è·å–å‰ç«¯é…ç½®ä¿¡æ¯

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 0,
  "data": {
    "defaultRadius": 200,
    "maxRadius": 1000,
    "defaultSortBy": "totalCost",
    "cacheExpireMinutes": 60,
    "transport": {
      "car": { "costPerKm": 0.5, "speedKmh": 60 },
      "train": { "costPerKm": 0.4, "speedKmh": 200 },
      "bus": { "costPerKm": 0.3, "speedKmh": 80 }
    }
  }
}
```

### 4.2 æœºåœºç›¸å…³æ¥å£

#### GET /api/airports/nearby
è·å–å‘¨è¾¹æœºåœºåˆ—è¡¨

**è¯·æ±‚å‚æ•°**ï¼š
| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| city | string | æ˜¯ | åŸå¸‚åç§° |
| radius | number | å¦ | æœç´¢åŠå¾„(km)ï¼Œé»˜è®¤200 |
| cities | string | å¦ | å¤šåŸå¸‚æŸ¥è¯¢ï¼Œé€—å·åˆ†éš” |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 0,
  "data": {
    "airports": [
      {
        "code": "YNT",
        "name": "çƒŸå°è“¬è±å›½é™…æœºåœº",
        "city": "çƒŸå°",
        "lat": 37.6644,
        "lng": 120.9341,
        "distance": 0,
        "transport": {
          "type": "local",
          "time": 0,
          "cost": 0
        }
      }
    ],
    "centerCity": "çƒŸå°"
  }
}
```

#### GET /api/airports/search
æœºåœºå…³é”®è¯æœç´¢

**è¯·æ±‚å‚æ•°**ï¼š
| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| keyword | string | å¦ | æœç´¢å…³é”®è¯ï¼ˆæœºåœºä»£ç /åç§°/åŸå¸‚ï¼‰ |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 0,
  "data": [
    {
      "code": "YNT",
      "name": "çƒŸå°è“¬è±å›½é™…æœºåœº",
      "city": "çƒŸå°",
      "province": "å±±ä¸œ"
    }
  ]
}
```

#### GET /api/airports/:code
è·å–å•ä¸ªæœºåœºè¯¦æƒ…

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 0,
  "data": {
    "code": "YNT",
    "name": "çƒŸå°è“¬è±å›½é™…æœºåœº",
    "city": "çƒŸå°",
    "province": "å±±ä¸œ",
    "lat": 37.6644,
    "lng": 120.9341,
    "enabled": true
  }
}
```

#### GET /api/airports/cities/all
è·å–æ‰€æœ‰åŸå¸‚åˆ—è¡¨

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 0,
  "data": [
    { "name": "çƒŸå°", "province": "å±±ä¸œ" },
    { "name": "é’å²›", "province": "å±±ä¸œ" }
  ]
}
```

#### GET /api/airports/cities/search
åŸå¸‚å…³é”®è¯æœç´¢

**è¯·æ±‚å‚æ•°**ï¼š
| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| keyword | string | æ˜¯ | æœç´¢å…³é”®è¯ |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 0,
  "data": [
    { "name": "çƒŸå°", "province": "å±±ä¸œ" }
  ]
}
```

### 4.3 èˆªç­æŸ¥è¯¢æ¥å£

#### GET /api/flights/search
æŸ¥è¯¢èˆªç­ä¿¡æ¯

**è¯·æ±‚å‚æ•°**ï¼š
| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| from | string | æ˜¯ | å‡ºå‘æœºåœºä»£ç ï¼Œå¤šä¸ªç”¨é€—å·åˆ†éš” |
| to | string | æ˜¯ | ç›®çš„åœ°åŸå¸‚/æœºåœº |
| date | string | æ˜¯ | å‡ºå‘æ—¥æœŸ YYYY-MM-DD |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 0,
  "data": [
    {
      "flightNo": "SC4622",
      "airline": "å±±ä¸œèˆªç©º",
      "from": "YNT",
      "to": "SHA",
      "depTime": "08:30",
      "arrTime": "10:15",
      "price": 680,
      "discount": 7.5,
      "isDirect": true,
      "aircraft": "Boeing 737"
    }
  ],
  "cacheTime": "2026-02-13T10:30:00Z"
}
```

### 4.4 è·¯å¾„ä¼˜åŒ–æ¥å£ï¼ˆæ–°å¢ï¼‰

#### POST /api/route/optimize
å¤šæ®µè¡Œç¨‹è·¯å¾„ä¼˜åŒ–

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "originCity": "çƒŸå°",
  "destinationCity": "æµå—",
  "date": "2026-02-20",
  "radius": 200,
  "maxStops": 1,
  "sortBy": "totalCost",
  "dataSource": "variflight"
}
```

**å‚æ•°è¯´æ˜**ï¼š
| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| originCity | string | æ˜¯ | å‡ºå‘åŸå¸‚ |
| destinationCity | string | æ˜¯ | ç›®çš„åœ°åŸå¸‚ |
| date | string | æ˜¯ | å‡ºå‘æ—¥æœŸ YYYY-MM-DD |
| radius | number | å¦ | æœç´¢åŠå¾„(km)ï¼Œé»˜è®¤200 |
| maxStops | number | å¦ | æœ€å¤§ä¸­è½¬æ¬¡æ•°ï¼Œé»˜è®¤1 |
| sortBy | string | å¦ | æ’åºæ–¹å¼ï¼štotalCost/totalTime/ticketPrice |
| dataSource | string | å¦ | æ•°æ®æºï¼švariflight/crawler |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 0,
  "data": {
    "originCity": "çƒŸå°",
    "destinationCity": "æµå—",
    "routes": [
      {
        "type": "oneStop",
        "segments": [
          {
            "flight": { "flightNo": "SC1234", "depTime": "08:00", "arrTime": "09:00", "price": 300 },
            "departureAirport": { "code": "TAO", "name": "é’å²›èƒ¶ä¸œå›½é™…æœºåœº", "city": "é’å²›" },
            "arrivalAirport": { "code": "TNA", "name": "æµå—é¥å¢™å›½é™…æœºåœº", "city": "æµå—" }
          }
        ],
        "departureAirport": { "code": "TAO", "name": "é’å²›èƒ¶ä¸œå›½é™…æœºåœº", "distance": 200 },
        "groundTransport": { "type": "train", "time": 90, "cost": 150 },
        "totalCost": { "ticket": 300, "transport": 150, "timeValue": 90, "total": 540 },
        "totalTime": 240,
        "savings": 60
      },
      {
        "type": "direct",
        "flight": { "flightNo": "SC5678", "depTime": "10:00", "arrTime": "11:00", "price": 600 },
        "departureAirport": { "code": "YNT", "name": "çƒŸå°è“¬è±å›½é™…æœºåœº", "distance": 0 },
        "totalCost": { "ticket": 600, "transport": 0, "timeValue": 60, "total": 660 },
        "totalTime": 60,
        "savings": 0
      }
    ],
    "baseline": { "airport": "YNT", "price": 600 },
    "searchStats": {
      "directRoutesFound": 3,
      "oneStopRoutesFound": 5,
      "totalRoutesFound": 8
    }
  }
}
```

#### POST /api/route/compare
è·¯å¾„æ–¹æ¡ˆå¯¹æ¯”

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 0,
  "data": {
    "best": { ... },
    "cheapest": { ... },
    "fastest": { ... },
    "directOnly": { ... }
  }
}
```

#### GET /api/route/preview
é¢„è§ˆæœç´¢èŒƒå›´

**è¯·æ±‚å‚æ•°**ï¼š
| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| originCity | string | æ˜¯ | å‡ºå‘åŸå¸‚ |
| destinationCity | string | æ˜¯ | ç›®çš„åœ°åŸå¸‚ |
| radius | number | å¦ | æœç´¢åŠå¾„(km) |

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 0,
  "data": {
    "originAirports": [...],
    "destAirports": [...],
    "potentialStopCount": 15,
    "estimatedSearchTime": "45 ç§’"
  }
}
```

### 4.5 ç»¼åˆè®¡ç®—æ¥å£

#### POST /api/calculate/recommend
ç»¼åˆæˆæœ¬è®¡ç®—ä¸æ¨è

**è¯·æ±‚å‚æ•°**ï¼š
```json
{
  "originCity": "çƒŸå°",
  "destination": "ä¸Šæµ·",
  "date": "2026-02-20",
  "radius": 200,
  "preferences": {
    "maxTransportTime": 120,
    "sortBy": "totalCost"
  }
}
```

**å“åº”ç¤ºä¾‹**ï¼š
```json
{
  "code": 0,
  "data": {
    "recommendations": [
      {
        "rank": 1,
        "airport": {
          "code": "TAO",
          "name": "é’å²›èƒ¶ä¸œå›½é™…æœºåœº",
          "distance": 200
        },
        "flight": {
          "flightNo": "MU5532",
          "depTime": "09:00",
          "price": 520
        },
        "transport": {
          "type": "é«˜é“",
          "time": 90,
          "cost": 150
        },
        "totalCost": 670,
        "totalTime": 240,
        "savings": 130
      }
    ],
    "baseline": {
      "airport": "YNT",
      "price": 800
    }
  }
}
```

---

## äº”ã€æ•°æ®å­˜å‚¨è®¾è®¡

### 5.1 å­˜å‚¨æ–¹æ¡ˆ

é‡‡ç”¨ **çº¯JSONæ–‡ä»¶** å­˜å‚¨ï¼Œé›¶æ•°æ®åº“ä¾èµ–ï¼š

| æ–‡ä»¶ | ç”¨é€” | æ›´æ–°é¢‘ç‡ |
|------|------|----------|
| airports.json | æœºåœºé™æ€æ•°æ® | æ‰‹åŠ¨æ›´æ–° |
| cache.json | èˆªç­ç¼“å­˜æ•°æ® | æ¯æ¬¡æŸ¥è¯¢æ›´æ–° |
| config.json | ç”¨æˆ·é…ç½® | ç”¨æˆ·ä¿®æ”¹æ—¶æ›´æ–° |

### 5.2 æ•°æ®ç»“æ„

#### airports.json
```json
{
  "version": "1.0",
  "updatedAt": "2026-02-13",
  "airports": [
    {
      "code": "YNT",
      "name": "çƒŸå°è“¬è±å›½é™…æœºåœº",
      "city": "çƒŸå°",
      "province": "å±±ä¸œ",
      "lat": 37.6644,
      "lng": 120.9341,
      "enabled": true
    },
    {
      "code": "TAO",
      "name": "é’å²›èƒ¶ä¸œå›½é™…æœºåœº",
      "city": "é’å²›",
      "province": "å±±ä¸œ",
      "lat": 36.2611,
      "lng": 119.8544,
      "enabled": true
    }
  ]
}
```

#### cache.json
```json
{
  "flights": {
    "YNT-SHA-2026-02-20": {
      "data": [...],
      "fetchedAt": "2026-02-13T10:30:00Z",
      "expiresAt": "2026-02-13T11:30:00Z"
    }
  }
}
```

#### config.json
```json
{
  "defaultRadius": 200,
  "cacheExpireMinutes": 60,
  "recentSearches": [
    {
      "from": "çƒŸå°",
      "to": "ä¸Šæµ·",
      "date": "2026-02-20"
    }
  ]
}
```

---

## å…­ã€çˆ¬è™«æŠ€æœ¯æ–¹æ¡ˆ

### 6.1 æºç¨‹æœºç¥¨çˆ¬è™«

#### ç›®æ ‡URL
```
https://flights.ctrip.com/international/search/oneway-{from}-{to}?depdate={date}
```

#### è¯·æ±‚ç¤ºä¾‹
```javascript
const axios = require('axios');
const cheerio = require('cheerio');

async function fetchFlights(from, to, date) {
  const url = `https://flights.ctrip.com/international/search/oneway-${from}-${to}?depdate=${date}`;
  
  const response = await axios.get(url, {
    headers: {
      'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',
      'Accept': 'text/html,application/xhtml+xml',
      'Accept-Language': 'zh-CN,zh;q=0.9',
      'Referer': 'https://flights.ctrip.com/'
    }
  });
  
  const $ = cheerio.load(response.data);
  const flights = [];
  
  $('.flight-item').each((i, el) => {
    flights.push({
      flightNo: $(el).find('.flight-no').text().trim(),
      airline: $(el).find('.airline-name').text().trim(),
      depTime: $(el).find('.dep-time').text().trim(),
      arrTime: $(el).find('.arr-time').text().trim(),
      price: parseInt($(el).find('.price').text().replace(/[^\d]/g, '')),
      isDirect: !$(el).find('.transfer').length
    });
  });
  
  return flights;
}
```

### 6.2 åçˆ¬ç­–ç•¥

| ç­–ç•¥ | å®ç°æ–¹å¼ |
|------|----------|
| è¯·æ±‚é¢‘ç‡æ§åˆ¶ | æ¯æ¬¡è¯·æ±‚é—´éš” 2-5 ç§’éšæœºå»¶è¿Ÿ |
| User-Agentè½®æ¢ | ç»´æŠ¤UAæ± ï¼Œéšæœºé€‰æ‹© |
| ç¼“å­˜æœºåˆ¶ | ç›¸åŒæŸ¥è¯¢1å°æ—¶å†…ä½¿ç”¨ç¼“å­˜ |
| é”™è¯¯é‡è¯• | å¤±è´¥åæœ€å¤šé‡è¯•3æ¬¡ï¼ŒæŒ‡æ•°é€€é¿ |

### 6.3 å¤‡é€‰æ•°æ®æº

å¦‚æœæºç¨‹çˆ¬è™«å¤±æ•ˆï¼Œå¯åˆ‡æ¢åˆ°ï¼š

| æ•°æ®æº | ä¼˜å…ˆçº§ | è¯´æ˜ |
|--------|--------|------|
| å»å“ªå„¿ | 1 | ç»“æ„ç±»ä¼¼æºç¨‹ |
| èˆªå¸å®˜ç½‘ | 2 | éœ€è¦é€‚é…å„èˆªå¸ |
| é£å¸¸å‡†API | 3 | æœ‰å…è´¹é¢åº¦ |

### 6.4 é«˜å¾·åœ°å›¾APIé›†æˆ

#### APIç”³è¯·æµç¨‹
1. è®¿é—® [é«˜å¾·å¼€æ”¾å¹³å°](https://lbs.amap.com/) æ³¨å†Œè´¦å·
2. è¿›å…¥æ§åˆ¶å° â†’ åº”ç”¨ç®¡ç† â†’ åˆ›å»ºæ–°åº”ç”¨
3. æ·»åŠ Keyï¼Œé€‰æ‹©"WebæœåŠ¡"ç±»å‹
4. å°†Keyé…ç½®åˆ° `config/index.js` ä¸­

#### ä½¿ç”¨çš„APIæ¥å£

| API | ç”¨é€” | å…è´¹é¢åº¦ |
|-----|------|----------|
| åœ°ç†ç¼–ç  | åŸå¸‚åç§°â†’ç»çº¬åº¦ | 30ä¸‡æ¬¡/æ—¥ |
| è·¯å¾„è§„åˆ’ | è®¡ç®—äº¤é€šæ—¶é—´å’Œè·ç¦» | 30ä¸‡æ¬¡/æ—¥ |
| åæ ‡è½¬æ¢ | åæ ‡ç³»è½¬æ¢ï¼ˆå¦‚éœ€è¦ï¼‰ | 30ä¸‡æ¬¡/æ—¥ |

#### è¯·æ±‚ç¤ºä¾‹
```javascript
const axios = require('axios');
const AMAP_KEY = process.env.AMAP_KEY || 'your_amap_key';

async function getCityCoordinate(cityName) {
  const url = `https://restapi.amap.com/v3/geocode/geo`;
  const response = await axios.get(url, {
    params: {
      key: AMAP_KEY,
      address: cityName
    }
  });
  
  if (response.data.geocodes && response.data.geocodes.length > 0) {
    const [lng, lat] = response.data.geocodes[0].location.split(',');
    return { lat: parseFloat(lat), lng: parseFloat(lng) };
  }
  return null;
}

async function getTransportInfo(origin, destination) {
  const url = `https://restapi.amap.com/v3/direction/driving`;
  const response = await axios.get(url, {
    params: {
      key: AMAP_KEY,
      origin: `${origin.lng},${origin.lat}`,
      destination: `${destination.lng},${destination.lat}`,
      strategy: 0
    }
  });
  
  if (response.data.route && response.data.route.paths.length > 0) {
    const path = response.data.route.paths[0];
    return {
      distance: parseInt(path.distance) / 1000,
      time: parseInt(path.duration) / 60,
      toll: parseInt(path.tolls) || 0
    };
  }
  return null;
}
```

### 6.5 å¤–éƒ¨æœåŠ¡è½åœ°ç­–ç•¥

#### ç¬¬ä¸€é˜¶æ®µï¼šMVPç‰ˆæœ¬ï¼ˆæ— å¤–éƒ¨ä¾èµ–ï¼‰
- ä½¿ç”¨å†…ç½®æœºåœºåæ ‡æ•°æ®ï¼ˆairports.jsonï¼‰
- ä½¿ç”¨Haversineå…¬å¼è®¡ç®—ç›´çº¿è·ç¦»
- äº¤é€šè´¹ç”¨æŒ‰è·ç¦»ä¼°ç®—ï¼ˆè‡ªé©¾ï¼š0.5å…ƒ/kmï¼Œé«˜é“ï¼š0.4å…ƒ/kmï¼‰
- äº¤é€šæ—¶é—´æŒ‰è·ç¦»ä¼°ç®—ï¼ˆè‡ªé©¾ï¼š60km/hï¼Œé«˜é“ï¼š200km/hï¼‰

#### ç¬¬äºŒé˜¶æ®µï¼šæ¥å…¥é«˜å¾·API
- ç”³è¯·é«˜å¾·API Key
- å®ç°åŸå¸‚åç§°â†’åæ ‡è½¬æ¢
- å®ç°çœŸå®è·¯å¾„è§„åˆ’ï¼ˆè€ƒè™‘é“è·¯æƒ…å†µï¼‰
- è·å–å‡†ç¡®çš„äº¤é€šæ—¶é—´å’Œè´¹ç”¨

#### ç¬¬ä¸‰é˜¶æ®µï¼šçˆ¬è™«ä¼˜åŒ–
- å®Œå–„æºç¨‹çˆ¬è™«çš„ç¨³å®šæ€§
- æ·»åŠ å»å“ªå„¿ä½œä¸ºå¤‡ç”¨æ•°æ®æº
- å®ç°æ•°æ®ç¼“å­˜å’Œå¢é‡æ›´æ–°

---

## ä¸ƒã€æ ¸å¿ƒç®—æ³•

### 7.1 è·ç¦»è®¡ç®—ï¼ˆHaversineå…¬å¼ï¼‰

```javascript
function getDistance(lat1, lng1, lat2, lng2) {
  const R = 6371;
  const dLat = (lat2 - lat1) * Math.PI / 180;
  const dLng = (lng2 - lng1) * Math.PI / 180;
  const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
            Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) *
            Math.sin(dLng/2) * Math.sin(dLng/2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
  return R * c;
}
```

### 7.2 ç»¼åˆæˆæœ¬è®¡ç®—

```javascript
function calculateTotalCost(flight, transport) {
  const ticketPrice = flight.price;
  const transportCost = transport.cost;
  const timeValue = transport.time * 0.5;  // æ—¶é—´æˆæœ¬ï¼š0.5å…ƒ/åˆ†é’Ÿ
  
  return {
    ticket: ticketPrice,
    transport: transportCost,
    timeValue: timeValue,
    total: ticketPrice + transportCost + timeValue
  };
}
```

### 7.3 æ¨èæ’åº

```javascript
function sortRecommendations(results, preference = 'totalCost') {
  return results.sort((a, b) => {
    if (preference === 'totalCost') {
      return a.totalCost - b.totalCost;
    } else if (preference === 'totalTime') {
      return a.totalTime - b.totalTime;
    }
    return 0;
  });
}
```

### 7.4 è·¯å¾„ä¼˜åŒ–ç®—æ³•ï¼ˆæ–°å¢ï¼‰

#### æœç´¢ç­–ç•¥
```
1. ç›´é£æœç´¢
   - éå†å‡ºå‘åœ°å‘¨è¾¹æœºåœº Ã— ç›®çš„åœ°å‘¨è¾¹æœºåœº
   - è·å–æ‰€æœ‰ç›´é£èˆªç­

2. ä¸€æ®µä¸­è½¬æœç´¢
   - éå†å‡ºå‘åœ°å‘¨è¾¹æœºåœº Ã— ä¸­è½¬æœºåœº Ã— ç›®çš„åœ°å‘¨è¾¹æœºåœº
   - è®¡ç®—ä¸­è½¬æ—¶é—´ï¼ˆ30åˆ†é’Ÿ~180åˆ†é’Ÿä¸ºåˆç†èŒƒå›´ï¼‰
   - è¿‡æ»¤ä¸åˆç†çš„èˆªç­ç»„åˆ

3. ç»¼åˆæ’åº
   - æŒ‰ç»¼åˆæˆæœ¬æ’åº
   - æ ‡è®°æœ€ä¼˜æ–¹æ¡ˆ
```

#### æˆæœ¬è®¡ç®—å…¬å¼
```javascript
function calculateRouteCost(segments, groundTransport, transferTime) {
  let ticketPrice = 0;
  let totalTime = groundTransport.time;
  
  for (const segment of segments) {
    ticketPrice += segment.flight.price;
    totalTime += getFlightDuration(segment.flight);
  }
  
  totalTime += transferTime;
  
  const transportCost = groundTransport.cost;
  const timeValue = totalTime * 0.5;           // æ—¶é—´æˆæœ¬ï¼š0.5å…ƒ/åˆ†é’Ÿ
  const transferCost = transferTime * 0.3;    // ä¸­è½¬æˆæœ¬ï¼š0.3å…ƒ/åˆ†é’Ÿ
  
  return {
    ticket: ticketPrice,
    transport: transportCost,
    timeValue,
    transferCost,
    total: ticketPrice + transportCost + timeValue + transferCost
  };
}
```

#### ä¸­è½¬æ—¶é—´è®¡ç®—
```javascript
function calculateTransferTime(firstFlight, secondFlight) {
  const [arrH, arrM] = firstFlight.arrTime.split(':').map(Number);
  const [depH, depM] = secondFlight.depTime.split(':').map(Number);
  
  let transferMinutes = (depH * 60 + depM) - (arrH * 60 + arrM);
  if (transferMinutes < 0) transferMinutes += 24 * 60;  // è·¨å¤©å¤„ç†
  
  return transferMinutes;
}
```

#### ç®—æ³•å¤æ‚åº¦
| æœç´¢ç±»å‹ | å¤æ‚åº¦ | è¯´æ˜ |
|----------|--------|------|
| ç›´é£ | O(MÃ—N) | M=å‡ºå‘æœºåœºæ•°ï¼ŒN=ç›®çš„æœºåœºæ•° |
| ä¸€æ®µä¸­è½¬ | O(MÃ—KÃ—N) | K=æ½œåœ¨ä¸­è½¬æœºåœºæ•°ï¼ˆé™åˆ¶20ä¸ªï¼‰ |
| æ€»è€—æ—¶ | çº¦30-60ç§’ | å–å†³äºAPIå“åº”é€Ÿåº¦ |

---

## å…«ã€å‰ç«¯äº¤äº’æµç¨‹

### 8.1 ç”¨æˆ·æ“ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  è¾“å…¥å‡ºå‘åœ°  â”‚ â”€â”€â–¶ â”‚  è¾“å…¥ç›®çš„åœ°  â”‚ â”€â”€â–¶ â”‚  é€‰æ‹©æ—¥æœŸ   â”‚
â”‚  (åŸå¸‚åç§°)  â”‚     â”‚  (åŸå¸‚/æœºåœº) â”‚     â”‚  (æ—¥å†é€‰æ‹©) â”‚
â”‚  æ”¯æŒå¤šé€‰   â”‚     â”‚  è”æƒ³æœç´¢    â”‚     â”‚  é»˜è®¤æ˜å¤©   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                              â”‚
                                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æŸ¥çœ‹æ¨è    â”‚ â—€â”€â”€ â”‚  è®¡ç®—æ¨è    â”‚ â—€â”€â”€ â”‚  è®¾ç½®åŠå¾„   â”‚
â”‚  ç»“æœåˆ—è¡¨    â”‚     â”‚  (åç«¯å¤„ç†)  â”‚     â”‚  (å¯é€‰)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç‚¹å‡»æ–¹æ¡ˆ    â”‚ â”€â”€â–¶ â”‚  æŸ¥çœ‹è¯¦æƒ…    â”‚
â”‚  æŸ¥çœ‹è¯¦æƒ…    â”‚     â”‚  (è·³è½¬è´­ç¥¨) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 é¡µé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ›« èˆªç­ä»·æ ¼å‘¨è¾¹æœºåœºç­›é€‰                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ å‡ºå‘åŸå¸‚   â”‚ â”‚ ç›®çš„åœ°     â”‚ â”‚ å‡ºå‘æ—¥æœŸ   â”‚ â”‚ æœç´¢   â”‚â”‚
â”‚  â”‚ [çƒŸå°    ] â”‚ â”‚ [ä¸Šæµ·    ] â”‚ â”‚ [2026-02-20]â”‚ â”‚ [æŸ¥è¯¢] â”‚â”‚
â”‚  â”‚ [é’å²›  Ã—]  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚  (æ”¯æŒå¤šåŸå¸‚é€‰æ‹©ï¼Œç‚¹å‡»Ã—å¯ç§»é™¤)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æœç´¢åŠå¾„: [200km â–¼]  æ’åº: [ç»¼åˆæˆæœ¬æœ€ä½ â–¼]             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ å‘¨è¾¹æœºåœº                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ YNT      â”‚ â”‚ TAO      â”‚ â”‚ WEH      â”‚                 â”‚
â”‚  â”‚ çƒŸå°è“¬è± â”‚ â”‚ é’å²›èƒ¶ä¸œ â”‚ â”‚ å¨æµ·å¤§æ°´æ³Šâ”‚                 â”‚
â”‚  â”‚ æœ¬åœ°æœºåœº â”‚ â”‚ 200km    â”‚ â”‚ 78km     â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ† æ¨èæ–¹æ¡ˆ                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â­ æœ€ä¼˜æ¨è: é’å²›èƒ¶ä¸œæœºåœºå‡ºå‘                        â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚  â”‚
â”‚  â”‚ â”‚ æœºç¥¨ Â¥520 â”‚ â”‚ äº¤é€š Â¥150 â”‚ â”‚ æ€»è®¡ Â¥670 â”‚ èŠ‚çœÂ¥130  â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚  â”‚
â”‚  â”‚ èˆªç­: MU5532 09:00-10:40  |  é«˜é“: çƒŸå°â†’é’å²› 90åˆ†é’Ÿ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚
â”‚  å…¶ä»–æ–¹æ¡ˆ                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ çƒŸå°è“¬è±æœºåœº | SC4622 08:30-10:15 | Â¥680 | ç›´é£    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ å¨æµ·å¤§æ°´æ³Šæœºåœº | CA1588 10:00-11:45 | Â¥620 | +Â¥50äº¤é€šâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.3 äº¤äº’ç‰¹æ€§

#### åŸå¸‚é€‰æ‹©
- è¾“å…¥æ—¶è‡ªåŠ¨è”æƒ³åŒ¹é…åŸå¸‚
- æ”¯æŒå¤šåŸå¸‚é€‰æ‹©ï¼ˆæ ‡ç­¾å½¢å¼å±•ç¤ºï¼‰
- ç‚¹å‡»æ ‡ç­¾ä¸Šçš„Ã—å¯ç§»é™¤å·²é€‰åŸå¸‚

#### ç›®çš„åœ°é€‰æ‹©
- è¾“å…¥æ—¶è‡ªåŠ¨è”æƒ³åŒ¹é…æœºåœºå’ŒåŸå¸‚
- æ˜¾ç¤ºæœºåœºä»£ç ã€åç§°ã€æ‰€å±åŸå¸‚

#### æœç´¢ç»“æœ
- å‘¨è¾¹æœºåœºå¡ç‰‡å±•ç¤ºè·ç¦»å’Œäº¤é€šæ–¹å¼
- æ¨èæ–¹æ¡ˆæŒ‰ç»¼åˆæˆæœ¬æ’åº
- æœ€ä¼˜æ–¹æ¡ˆé«˜äº®æ˜¾ç¤º
- æ˜¾ç¤ºä¸æœ¬åœ°æœºåœºç›¸æ¯”çš„èŠ‚çœé‡‘é¢

### 8.4 å‰ç«¯å¾…å®Œå–„åŠŸèƒ½

| åŠŸèƒ½ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| æ—¶é—´ç­›é€‰UI | å¾…å¼€å‘ | åç«¯å·²æ”¯æŒï¼Œéœ€æ·»åŠ å‰ç«¯æ§ä»¶ |
| ç›´é£ç­›é€‰UI | å¾…å¼€å‘ | åç«¯å·²æ”¯æŒï¼Œéœ€æ·»åŠ å‰ç«¯æ§ä»¶ |
| ä»·æ ¼åŒºé—´ç­›é€‰ | å¾…å¼€å‘ | åç«¯å·²æ”¯æŒï¼Œéœ€æ·»åŠ å‰ç«¯æ§ä»¶ |
| ç§»åŠ¨ç«¯é€‚é… | å¾…å¼€å‘ | å“åº”å¼å¸ƒå±€ä¼˜åŒ– |

---

## ä¹ã€é¡¹ç›®é‡Œç¨‹ç¢‘

### Phase 1ï¼šMVPç‰ˆæœ¬ï¼ˆå·²å®Œæˆ âœ…ï¼‰
- [x] éœ€æ±‚æ–‡æ¡£ç¼–å†™
- [x] é¡¹ç›®åˆå§‹åŒ–ï¼ˆpackage.jsonã€ç›®å½•ç»“æ„ï¼‰
- [x] æœºåœºæ•°æ®å‡†å¤‡ï¼ˆairports.jsonï¼‰
- [x] åŸºç¡€APIå®ç°ï¼ˆæœºåœºæŸ¥è¯¢ã€è·ç¦»è®¡ç®—ï¼‰
- [x] æºç¨‹çˆ¬è™«å®ç°
- [x] å‰ç«¯é¡µé¢å¼€å‘
- [x] ç»¼åˆæ¨èåŠŸèƒ½
- [x] è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬

### Phase 2ï¼šåŠŸèƒ½å®Œå–„ï¼ˆå·²å®Œæˆ âœ…ï¼‰
- [x] ç¼“å­˜æœºåˆ¶ä¼˜åŒ–
- [x] é”™è¯¯å¤„ç†å®Œå–„
- [x] å†å²æœç´¢è®°å½•
- [x] ç•Œé¢ç¾åŒ–
- [x] ç§»åŠ¨ç«¯é€‚é…
- [x] å‰ç«¯ç­›é€‰æ¡ä»¶æš´éœ²ï¼ˆæ—¶é—´ç­›é€‰ã€ç›´é£ç­›é€‰ï¼‰
- [x] åœ°å›¾åŠŸèƒ½ï¼ˆæ˜¾ç¤ºæœºåœºä½ç½®ï¼‰

### Phase 3ï¼šæ‰©å±•åŠŸèƒ½ï¼ˆå·²å®Œæˆ âœ…ï¼‰
- [x] æ—¥æœŸçµæ´»æœç´¢
- [x] ä»·æ ¼æ—¥å†
- [x] åœ°å›¾åŠŸèƒ½ï¼ˆæ˜¾ç¤ºæœºåœºä½ç½®ï¼‰
- [x] PWA æ”¯æŒï¼ˆç¦»çº¿å¯ç”¨ã€å¯å®‰è£…ï¼‰
- [x] é”®ç›˜å¿«æ·é”®
- [x] æ•°æ®å¯¼å‡ºï¼ˆCSV/JSON/å‰ªè´´æ¿ï¼‰
- [x] æ— éšœç¢æ”¯æŒ
- [x] èˆªç­è¯¦æƒ…å¼¹çª—
- [x] ä»·æ ¼è¶‹åŠ¿å›¾è¡¨
- [x] åˆ†äº«åŠŸèƒ½
- [x] ç›®çš„åœ°å¤šé€‰ï¼ˆæ”¯æŒåŒæ—¶æœç´¢å¤šä¸ªç›®çš„åœ°ï¼‰
- [ ] é«˜å¾·APIé›†æˆï¼ˆçœŸå®è·¯å¾„è§„åˆ’ï¼‰

---

## åã€æµ‹è¯•æ–¹æ¡ˆ

### 10.1 è‡ªåŠ¨åŒ–æµ‹è¯•

é¡¹ç›®æä¾›å®Œæ•´çš„è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬ `test/auto-test.js`ï¼Œè¿è¡Œæ–¹å¼ï¼š

```bash
node test/auto-test.js
```

### 10.2 æµ‹è¯•è¦†ç›–èŒƒå›´

#### APIæ¥å£æµ‹è¯•
| æµ‹è¯•ID | æµ‹è¯•å†…å®¹ | è¯´æ˜ |
|--------|----------|------|
| TC-A000 | å¥åº·æ£€æŸ¥æ¥å£ | éªŒè¯æœåŠ¡è¿è¡ŒçŠ¶æ€ |
| TC-A001 | é…ç½®æ¥å£ | éªŒè¯é…ç½®è¿”å› |
| TC-A010~A015 | å‘¨è¾¹æœºåœºæ¥å£ | æ­£å¸¸/å¼‚å¸¸/è¾¹ç•Œæƒ…å†µ |
| TC-A020~A022 | æœºåœºæœç´¢æ¥å£ | å…³é”®è¯æœç´¢ |
| TC-A030~A031 | æœºåœºè¯¦æƒ…æ¥å£ | å•æœºåœºæŸ¥è¯¢ |
| TC-A040~A041 | åŸå¸‚æ¥å£ | åŸå¸‚åˆ—è¡¨å’Œæœç´¢ |
| TC-A050~A054 | èˆªç­æŸ¥è¯¢æ¥å£ | å¤šåœºæ™¯æµ‹è¯• |
| TC-A060~A063 | ç»¼åˆæ¨èæ¥å£ | æ ¸å¿ƒåŠŸèƒ½æµ‹è¯• |
| TC-A070~A071 | æˆæœ¬è®¡ç®—æ¥å£ | ç®—æ³•éªŒè¯ |
| TC-A080 | å†å²è®°å½•æ¥å£ | å†å²æŸ¥è¯¢ |

#### å‰ç«¯é¡µé¢æµ‹è¯•
| æµ‹è¯•ID | æµ‹è¯•å†…å®¹ |
|--------|----------|
| TC-U001 | é¦–é¡µåŠ è½½ |
| TC-U010 | CSSæ ·å¼æ–‡ä»¶ |
| TC-U011 | JavaScriptæ–‡ä»¶ |

#### æ€§èƒ½æµ‹è¯•
| æµ‹è¯•ID | æµ‹è¯•å†…å®¹ | æŒ‡æ ‡ |
|--------|----------|------|
| TC-P001 | å¥åº·æ£€æŸ¥å“åº”æ—¶é—´ | < 3000ms |
| TC-P002 | å‘¨è¾¹æœºåœºå“åº”æ—¶é—´ | < 3000ms |
| TC-P003 | åŸå¸‚åˆ—è¡¨å“åº”æ—¶é—´ | < 3000ms |

### 10.3 æµ‹è¯•æŠ¥å‘Š

æµ‹è¯•å®Œæˆåè‡ªåŠ¨ç”ŸæˆæŠ¥å‘Š `test/test-report.json`ï¼š

```json
{
  "summary": {
    "total": 30,
    "passed": 28,
    "failed": 0,
    "skipped": 2,
    "passRate": "93.3%"
  },
  "cases": [...]
}
```

### 10.4 æµ‹è¯•æœ€ä½³å®è·µ

1. **è¿è¡Œå‰å‡†å¤‡**ï¼šç¡®ä¿ç«¯å£3000æœªè¢«å ç”¨
2. **æµ‹è¯•éš”ç¦»**ï¼šæµ‹è¯•è„šæœ¬ä¼šè‡ªåŠ¨å¯åŠ¨/åœæ­¢æœåŠ¡å™¨
3. **ç»“æœéªŒè¯**ï¼šå…³æ³¨å¤±è´¥ç”¨ä¾‹çš„é”™è¯¯ä¿¡æ¯
4. **å®šæœŸæ‰§è¡Œ**ï¼šå»ºè®®æ¯æ¬¡ä»£ç å˜æ›´åè¿è¡Œæµ‹è¯•

---

## åä¸€ã€é£é™©ä¸å¯¹ç­–

| é£é™©é¡¹ | å½±å“ | å¯¹ç­– |
|--------|------|------|
| çˆ¬è™«è¢«å° | é«˜ | è¯·æ±‚é¢‘ç‡æ§åˆ¶ + å¤‡é€‰æ•°æ®æº |
| æ•°æ®ä¸å‡† | ä¸­ | å¤šæ•°æ®æºäº¤å‰éªŒè¯ |
| ä»·æ ¼æ³¢åŠ¨ | ä½ | æç¤ºç”¨æˆ·ä»·æ ¼å®æ—¶å˜åŠ¨ï¼Œç¼“å­˜1å°æ—¶ |

---

## åäºŒã€é™„å½•

### 12.1 é¡¹ç›®æ–‡æ¡£ç´¢å¼•

| æ–‡æ¡£ | è·¯å¾„ | è¯´æ˜ |
|------|------|------|
| éœ€æ±‚æ–‡æ¡£ | `éœ€æ±‚æ–‡æ¡£.md` | æœ¬æ–‡æ¡£ |
| è´¦å·æ³¨å†ŒæŒ‡å— | `è´¦å·æ³¨å†ŒæŒ‡å—.md` | é«˜å¾·APIæ³¨å†Œæµç¨‹ |
| é…ç½®è¯´æ˜ | `config/README.md` | é…ç½®é¡¹è¯¦ç»†è¯´æ˜ |

### 12.2 é¡¹ç›®ç›®å½•ç»“æ„ï¼ˆå®Œæ•´ç‰ˆï¼‰

```
qunafei/
â”œâ”€â”€ package.json              # é¡¹ç›®é…ç½®
â”œâ”€â”€ server.js                 # å…¥å£æ–‡ä»¶
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ index.js              # é…ç½®æ–‡ä»¶ï¼ˆç«¯å£ã€APIå¯†é’¥ç­‰ï¼‰
â”‚   â””â”€â”€ README.md             # é…ç½®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ airports.json         # æœºåœºé™æ€æ•°æ®
â”‚   â”œâ”€â”€ cache.json            # èˆªç­ç¼“å­˜æ•°æ®
â”‚   â””â”€â”€ config.json           # ç”¨æˆ·é…ç½®ï¼ˆå†å²è®°å½•ç­‰ï¼‰
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ flight.js             # èˆªç­æŸ¥è¯¢è·¯ç”±
â”‚   â”œâ”€â”€ airport.js            # æœºåœºæŸ¥è¯¢è·¯ç”±
â”‚   â””â”€â”€ calculate.js          # æˆæœ¬è®¡ç®—è·¯ç”±
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ crawler.js            # æºç¨‹çˆ¬è™«æœåŠ¡
â”‚   â”œâ”€â”€ distance.js           # è·ç¦»è®¡ç®—æœåŠ¡
â”‚   â””â”€â”€ recommend.js          # æ¨èç®—æ³•æœåŠ¡
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ index.html            # å‰ç«¯é¡µé¢
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css         # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ js/
â”‚       â””â”€â”€ app.js            # å‰ç«¯äº¤äº’é€»è¾‘
â”œâ”€â”€ test/
â”‚   â”œâ”€â”€ auto-test.js          # è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬
â”‚   â””â”€â”€ test-report.json      # æµ‹è¯•æŠ¥å‘Šï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ helpers.js            # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ geo.js                # åœ°ç†è®¡ç®—å·¥å…·
â”œâ”€â”€ éœ€æ±‚æ–‡æ¡£.md                # éœ€æ±‚æ–‡æ¡£
â””â”€â”€ è´¦å·æ³¨å†ŒæŒ‡å—.md            # è´¦å·æ³¨å†ŒæŒ‡å—
```

### 12.3 ä¸­å›½ä¸»è¦æœºåœºæ•°æ®ï¼ˆéƒ¨åˆ†ï¼‰

| ä»£ç  | åç§° | åŸå¸‚ | ç»åº¦ | çº¬åº¦ |
|------|------|------|------|------|
| YNT | çƒŸå°è“¬è±å›½é™…æœºåœº | çƒŸå° | 120.9341 | 37.6644 |
| TAO | é’å²›èƒ¶ä¸œå›½é™…æœºåœº | é’å²› | 119.8544 | 36.2611 |
| WEH | å¨æµ·å¤§æ°´æ³Šæœºåœº | å¨æµ· | 122.2285 | 37.1873 |
| SHA | ä¸Šæµ·è™¹æ¡¥å›½é™…æœºåœº | ä¸Šæµ· | 121.3361 | 31.1978 |
| PVG | ä¸Šæµ·æµ¦ä¸œå›½é™…æœºåœº | ä¸Šæµ· | 121.8050 | 31.1434 |
| PEK | åŒ—äº¬é¦–éƒ½å›½é™…æœºåœº | åŒ—äº¬ | 116.5850 | 40.0725 |
| PKX | åŒ—äº¬å¤§å…´å›½é™…æœºåœº | åŒ—äº¬ | 116.4106 | 39.5098 |

### 12.4 å‚è€ƒèµ„æº
- é«˜å¾·åœ°å›¾å¼€æ”¾å¹³å°ï¼šhttps://lbs.amap.com/ ï¼ˆç”³è¯·WebæœåŠ¡API Keyï¼‰
- æºç¨‹æœºç¥¨ï¼šhttps://flights.ctrip.com/
- OurAirportsæ•°æ®ï¼šhttps://ourairports.com/ ï¼ˆå…¨çƒæœºåœºæ•°æ®ï¼‰

### 12.5 å¿«é€Ÿå¯åŠ¨æŒ‡å—

```bash
# 1. å®‰è£…ä¾èµ–
npm install

# 2. å¯åŠ¨æœåŠ¡
npm start

# 3. è®¿é—®åº”ç”¨
# æµè§ˆå™¨æ‰“å¼€ http://localhost:3000

# 4. è¿è¡Œæµ‹è¯•
node test/auto-test.js
```

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv4.0  
**åˆ›å»ºæ—¥æœŸ**ï¼š2026-02-13  
**æœ€åæ›´æ–°**ï¼š2026-02-16

**æ›´æ–°æ—¥å¿—**ï¼š
- v4.0: æ–°å¢å¤šæ®µè¡Œç¨‹ä¼˜åŒ–åŠŸèƒ½ã€é£å¸¸å‡†APIæ¥å…¥
- v3.0: è¡¥å……APIæ¥å£ã€æµ‹è¯•æ–¹æ¡ˆã€å®Œå–„åŠŸèƒ½çŠ¶æ€
- v2.0: åˆå§‹éœ€æ±‚æ–‡æ¡£
