# 账号注册与环境配置指南

本文档详细说明了项目开发前需要注册的账号、申请的密钥以及具体操作步骤。

---

## 一、需要注册的账号清单

| 序号 | 服务名称 | 用途 | 必要性 | 费用 |
|------|----------|------|--------|------|
| 1 | 高德地图开放平台 | 地理编码、路径规划API | **必须** | 免费（有额度限制） |
| 2 | GitHub | 代码托管（可选） | 可选 | 免费 |
| 3 | 携程账号 | 航班数据爬取（可选） | 可选 | 免费 |

---

## 二、高德地图开放平台注册指南

### 2.1 为什么需要高德API？

高德地图API在本项目中的作用：
- **地理编码**：将城市名称（如"烟台"）转换为经纬度坐标
- **路径规划**：计算从出发地到各机场的实际距离、时间和费用
- **免费额度**：每日30万次调用，对于个人项目完全够用

### 2.2 注册步骤

#### 第一步：访问官网
1. 打开浏览器，访问：**https://lbs.amap.com/**
2. 点击右上角【注册】按钮

#### 第二步：注册账号
1. 选择注册方式：
   - 手机号注册（推荐）
   - 支付宝扫码注册（更快）
2. 填写手机号，获取并输入验证码
3. 设置密码（建议：8-16位，包含字母和数字）

#### 第三步：实名认证（必须）
1. 登录后，点击右上角头像 → 【认证】
2. 选择【个人开发者认证】
3. 填写真实姓名、身份证号
4. 上传身份证正反面照片（或使用支付宝快捷认证）
5. 等待审核（通常1-3个工作日，实际往往几分钟内完成）

#### 第四步：创建应用
1. 进入【控制台】（右上角）
2. 点击左侧菜单【应用管理】→【我的应用】
3. 点击右上角【创建新应用】
4. 填写信息：
   - **应用名称**：`qunafei`（或任意名称）
   - **应用类型**：选择【出行】或【其他】
5. 点击【创建】

#### 第五步：添加Key
1. 在刚创建的应用下，点击【添加Key】
2. 填写信息：
   - **Key名称**：`qunafei-web`（或任意名称）
   - **服务平台**：选择【Web服务】（重要！）
   - 其他选项保持默认
3. 点击【提交】
4. **复制生成的Key**（类似：`a1b2c3d4e5f6g7h8i9j0`），保存好！

### 2.3 Key配置到项目

创建 `config/index.js` 文件，添加以下内容：

```javascript
module.exports = {
  amap: {
    key: '你申请的Key'  // 替换为你的高德Key
  },
  server: {
    port: 3000
  },
  cache: {
    expireMinutes: 60
  }
};
```

或者使用环境变量（推荐）：

```bash
# Windows PowerShell
$env:AMAP_KEY="你的Key"

# Windows CMD
set AMAP_KEY=你的Key

# Linux/Mac
export AMAP_KEY=你的Key
```

### 2.4 验证Key是否可用

在浏览器中访问以下地址（替换你的Key）：

```
https://restapi.amap.com/v3/geocode/geo?key=你的Key&address=烟台
```

如果返回类似以下内容，说明配置成功：

```json
{
  "status": "1",
  "geocodes": [
    {
      "formatted_address": "山东省烟台市",
      "location": "121.447930,37.463822"
    }
  ]
}
```

---

## 三、MVP阶段免注册方案

如果暂时不想注册账号，可以先使用**MVP免外部依赖方案**：

### 3.1 使用内置数据

项目已内置中国主要机场坐标数据（`data/airports.json`），无需API即可：
- 计算直线距离（Haversine公式）
- 估算交通费用和时间

### 3.2 估算规则

| 交通方式 | 速度 | 费用 |
|----------|------|------|
| 自驾 | 60 km/h | 0.5 元/km |
| 高铁 | 200 km/h | 0.4 元/km |
| 大巴 | 80 km/h | 0.3 元/km |

### 3.3 后续升级

开发完成后，再申请高德API，替换估算逻辑即可获得更准确的数据。

---

## 四、可选账号注册

### 4.1 GitHub（代码托管）

**用途**：代码版本管理、备份

**注册步骤**：
1. 访问 https://github.com
2. 点击【Sign up】
3. 填写邮箱、密码、用户名
4. 验证邮箱
5. 选择免费计划（Free）

### 4.2 携程账号（航班爬虫）

**用途**：如果爬虫需要登录才能获取数据

**注册步骤**：
1. 访问 https://www.ctrip.com
2. 点击右上角【登录/注册】
3. 使用手机号注册

**注意**：本项目爬虫设计为无需登录即可抓取公开数据，此账号为备用。

---

## 五、开发环境准备

### 5.1 安装Node.js

1. 访问 https://nodejs.org/
2. 下载LTS版本（长期支持版）
3. 运行安装程序，一路【Next】
4. 验证安装：
   ```bash
   node -v    # 显示版本号，如 v20.10.0
   npm -v     # 显示npm版本
   ```

### 5.2 开发工具（可选）

推荐使用以下任一编辑器：
- **VS Code**（推荐）：https://code.visualstudio.com/
- WebStorm
- Sublime Text

---

## 六、快速启动检查清单

在开始开发前，请确认以下事项：

| 检查项 | 状态 | 说明 |
|--------|------|------|
| Node.js已安装 | ☐ | 运行 `node -v` 验证 |
| 高德Key已申请 | ☐ | MVP阶段可跳过 |
| 项目目录已创建 | ☐ | `e:\ownWorkPlace\qunafei` |
| 编辑器已安装 | ☐ | 推荐VS Code |

---

## 七、常见问题

### Q1: 高德Key申请后多久生效？
A: 通常立即生效，最长不超过10分钟。

### Q2: 免费额度够用吗？
A: 个人开发完全够用。每日30万次调用，假设每次查询调用5次API，可支持6万次查询/天。

### Q3: Key泄露了怎么办？
A: 登录高德控制台，删除旧Key，重新生成新Key即可。

### Q4: 不想注册高德怎么办？
A: 使用MVP方案，内置机场坐标数据，用公式估算距离和费用。

---

**文档版本**：v1.0  
**创建日期**：2026-02-13
